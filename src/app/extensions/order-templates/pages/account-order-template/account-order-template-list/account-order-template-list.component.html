<div *ngIf="orderTemplates && orderTemplates.length > 0; else noOrderTemplate" class="list-body">
  <ng-container *ngTemplateOutlet="orderTemplateRow; context: { orderTemplate: preferredOrderTemplate }"></ng-container>
  <ng-container *ngFor="let orderTemplate of orderTemplates">
    <ng-container *ngIf="!preferredOrderTemplate || orderTemplate.id !== preferredOrderTemplate.id">
      <ng-container *ngTemplateOutlet="orderTemplateRow; context: { orderTemplate: orderTemplate }"></ng-container>
    </ng-container>
  </ng-container>
</div>
<ng-template #noOrderTemplate>
  <p>{{ 'account.order_template.list.no_templates.text' | translate }}</p>
</ng-template>
<ng-template #orderTemplateRow let-orderTemplate="orderTemplate">
  <div *ngIf="orderTemplate" class="list-item-row row mx-0" data-testing-id="order-template-list-item-container">
    <div class="col-7 list-item" data-testing-id="order-template-list-item">
      <a [routerLink]="'/account/order-templates/' + orderTemplate.id" data-testing-id="order-template-list-title">{{
        orderTemplate.title
      }}</a
      ><span *ngIf="orderTemplate.preferred" class="input-help pl-3">{{
        'account.wishlists.table.preferred' | translate
      }}</span>
    </div>
    <div class="col-2 list-item">
      {{
        orderTemplate.itemsCount
          | i18nPlural: ('account.order_template.widget.link.items' | translate) || { other: '#' }
      }}
    </div>
    <div class="col-3 list-item text-right">
      <a
        class="btn-tool"
        title="{{ 'account.order_template.list.link.remove' | translate }}"
        (click)="openDeleteConfirmationDialog(orderTemplate, deleteDialog)"
        data-testing-id="delete-order-template"
        ><fa-icon [icon]="['fas', 'trash-alt']"></fa-icon
      ></a>
    </div>
  </div>
</ng-template>

<ish-modal-dialog
  #deleteDialog
  (confirmed)="delete($event)"
  [options]="{
    confirmText: 'account.wishlists.delete_wishlist_dialog.delete_button.text' | translate,
    rejectText: 'account.wishlists.delete_wishlist_dialog.cancel_button.text' | translate
  }"
  >{{ 'account.wishlists.delete_wishlist_dialog.are_you_sure_paragraph' | translate }}</ish-modal-dialog
>
